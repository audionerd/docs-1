"use strict";(self.webpackChunkstately_docs=self.webpackChunkstately_docs||[]).push([[98184],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>l,MDXProvider:()=>p,mdx:()=>u,useMDXComponents:()=>m,withMDXComponents:()=>c});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),c=function(e){return function(t){var a=m(t.components);return n.createElement(e,i({},t,{components:a}))}},m=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(l.Provider,{value:t},e.children)},x={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,r=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),c=m(a),p=o,h=c["".concat(r,".").concat(p)]||c[p]||x[p]||i;return a?n.createElement(h,s(s({ref:t},l),{},{components:a})):n.createElement(h,s({ref:t},l))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=h;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var l=2;l<i;l++)r[l]=a[l];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},12232:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>y,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var n=a(87462),o=(a(67294),a(3905));const i={title:"Entry & exit actions",description:"While the statechart is running, it can execute other effects called actions. Actions are \u201cfire-and-forget effects.\u201d"},r=void 0,s={unversionedId:"actions-and-actors/entry-and-exit-actions",id:"version-4/actions-and-actors/entry-and-exit-actions",title:"Entry & exit actions",description:"While the statechart is running, it can execute other effects called actions. Actions are \u201cfire-and-forget effects.\u201d",source:"@site/versioned_docs/version-4/actions-and-actors/entry-and-exit-actions.mdx",sourceDirName:"actions-and-actors",slug:"/actions-and-actors/entry-and-exit-actions",permalink:"/docs/xstate-v4/actions-and-actors/entry-and-exit-actions",draft:!1,editUrl:"https://github.com/statelyai/docs/tree/main/versioned_docs/version-4/actions-and-actors/entry-and-exit-actions.mdx",tags:[],version:"4",frontMatter:{title:"Entry & exit actions",description:"While the statechart is running, it can execute other effects called actions. Actions are \u201cfire-and-forget effects.\u201d"},sidebar:"tutorialSidebar",previous:{title:"Actions and actors",permalink:"/docs/xstate-v4/category/actions-and-actors"},next:{title:"Actors",permalink:"/docs/xstate-v4/actions-and-actors/actors"}},d={},l=[{value:"Add a transition action",id:"add-a-transition-action",level:3},{value:"On the canvas",id:"on-the-canvas",level:3},{value:"Using the event details panel",id:"using-the-event-details-panel",level:3},{value:"Delete a transition action",id:"delete-a-transition-action",level:2},{value:"Using backspace",id:"using-backspace",level:3},{value:"Using the event details panel",id:"using-the-event-details-panel-1",level:3},{value:"Add an entry action or exit action to a state",id:"add-an-entry-action-or-exit-action-to-a-state",level:2},{value:"On the canvas",id:"on-the-canvas-1",level:3},{value:"Using the event details panel",id:"using-the-event-details-panel-2",level:3},{value:"Delete an entry action or exit action from a state",id:"delete-an-entry-action-or-exit-action-from-a-state",level:2},{value:"Using backspace",id:"using-backspace-1",level:3},{value:"Using the event details panel",id:"using-the-event-details-panel-3",level:3},{value:"Add a built-in action",id:"add-a-built-in-action",level:2},{value:"On the canvas",id:"on-the-canvas-2",level:3},{value:"Using the details panel",id:"using-the-details-panel",level:3},{value:"Add a custom action",id:"add-a-custom-action",level:2},{value:"On the canvas",id:"on-the-canvas-3",level:3},{value:"Using the details panel",id:"using-the-details-panel-1",level:3},{value:"Looking for how to use entry and exit actions in XState?",id:"looking-for-how-to-use-entry-and-exit-actions-in-xstate",level:2}],c=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",t)},m=c("ThemedImage"),p=c("Plus"),x=c("Zap"),h=c("Info"),u=c("Trash"),f=c("Edit"),v={toc:l};function y(e){let{components:t,...a}=e;return(0,o.mdx)("wrapper",(0,n.Z)({},v,a,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("p",null,"While the statechart is running, it can execute other effects called actions."),(0,o.mdx)("p",null,"An action can be fired upon entry or exit of a state. Actions are \u201cfire-and-forget effects\u201d; once the machine has fired the action, it moves on and forgets the action. You can also fire actions on transitions."),(0,o.mdx)("admonition",{type:"video"},(0,o.mdx)("p",{parentName:"admonition"},"Watch our ",(0,o.mdx)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=GYoYZ1Dt1sA&list=PLvWgkXBB3dd4I_l-djWVU2UGPyBgKfnTQ&index=8"},"\u201cEntry actions and exit actions\u201d video on YouTube")," (1m32s).")),(0,o.mdx)("p",null,"You can fire multiple entry and exit actions on a state. Top-level final states cannot have exit actions, since the machine is stopped and no further transitions can occur."),(0,o.mdx)("p",null,(0,o.mdx)(m,{alt:"Video player state machine containing closed and opened states. On the Play event, the Closed state transitions to the Opened state. The Playing state has an entry action for starting a video playing indicated by the \u2018Entry\u2019 label and the text playVideo, and an exit action for pausing a video indicated by the \u2018Exit\u2019 lable and the text pauseVideo. The Opened state contains Playing and Paused states, which are transitioned between using the Pause and Play events. There\u2019s a Stop event from the Opened state that transitions to the final state of Stopped. There\u2019s an onDone event from the parent Opened state back to the Closed state.",sources:{light:"https://stately.ai/registry/machines/222e2d7a-0ed6-4f2c-843a-e6646d717000.light.png",dark:"https://stately.ai/registry/machines/222e2d7a-0ed6-4f2c-843a-e6646d717000.dark.png"},mdxType:"ThemedImage"})),(0,o.mdx)("p",null,(0,o.mdx)("a",{parentName:"p",href:"https://stately.ai/registry/editor/e13bef2b-bb13-4465-96ac-0bc25340688e?machineId=222e2d7a-0ed6-4f2c-843a-e6646d717000"},"View this machine in the Stately Studio"),"."),(0,o.mdx)("p",null,"In our video player, we have entry and exit actions on the Playing state. We use the entry action of playVideo to fire an effect playing the video on entry to the Playing state. We use the exit action of pauseVideo to fire an effect pausing the video when the Playing state is exited."),(0,o.mdx)("h3",{id:"add-a-transition-action"},"Add a transition action"),(0,o.mdx)("p",null,"First, select the event where you want an action to be fired."),(0,o.mdx)("h3",{id:"on-the-canvas"},"On the canvas"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(p,{size:18,mdxType:"Plus"})," plus icon button to open the edit menu."),(0,o.mdx)("li",{parentName:"ol"},"Choose ",(0,o.mdx)(x,{size:18,mdxType:"Zap"})," ",(0,o.mdx)("strong",{parentName:"li"},"Action")," from the menu to add an action block."),(0,o.mdx)("li",{parentName:"ol"},"Write your action\u2019s name in the action\u2019s text input.")),(0,o.mdx)("h3",{id:"using-the-event-details-panel"},"Using the event details panel"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Open the event ",(0,o.mdx)(h,{size:18,mdxType:"Info"})," ",(0,o.mdx)("strong",{parentName:"li"},"Details")," panel from the right tool menu."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)("strong",{parentName:"li"},"+ Transition action")," button to add an action block."),(0,o.mdx)("li",{parentName:"ol"},"Write your action\u2019s name in the action\u2019s text input.")),(0,o.mdx)("h2",{id:"delete-a-transition-action"},"Delete a transition action"),(0,o.mdx)("p",null,"First, select the transition action block you want to delete."),(0,o.mdx)("h3",{id:"using-backspace"},"Using backspace"),(0,o.mdx)("p",null,"Use the ",(0,o.mdx)("kbd",null,"Backspace")," key to delete the transition action."),(0,o.mdx)("h3",{id:"using-the-event-details-panel-1"},"Using the event details panel"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Open the event ",(0,o.mdx)(h,{size:18,mdxType:"Info"})," ",(0,o.mdx)("strong",{parentName:"li"},"Details")," panel from the right tool menu."),(0,o.mdx)("li",{parentName:"ol"},"Hover, focus, or select the transition action block to reveal the ",(0,o.mdx)(u,{size:18,mdxType:"Trash"})," trash icon button."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(u,{size:18,mdxType:"Trash"})," trash icon button to delete the action.")),(0,o.mdx)("h2",{id:"add-an-entry-action-or-exit-action-to-a-state"},"Add an entry action or exit action to a state"),(0,o.mdx)("p",null,"First, select the state you want to have an entry or exit action."),(0,o.mdx)("h3",{id:"on-the-canvas-1"},"On the canvas"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Select the state where you want to add an action."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(p,{size:18,mdxType:"Plus"})," plus icon button to open the edit menu."),(0,o.mdx)("li",{parentName:"ol"},"Choose ",(0,o.mdx)(x,{size:18,mdxType:"Zap"})," ",(0,o.mdx)("strong",{parentName:"li"},"Entry action")," or ",(0,o.mdx)(x,{size:18,mdxType:"Zap"})," ",(0,o.mdx)("strong",{parentName:"li"},"Exit action")," from the menu to add an action block to the event."),(0,o.mdx)("li",{parentName:"ol"},"Write your action\u2019s name in the action\u2019s text input.")),(0,o.mdx)("h3",{id:"using-the-event-details-panel-2"},"Using the event details panel"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Open the state ",(0,o.mdx)(h,{size:18,mdxType:"Info"})," ",(0,o.mdx)("strong",{parentName:"li"},"Details")," panel from the right tool menu."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)("strong",{parentName:"li"},"+ Effect")," button to open the effects menu, and choose ",(0,o.mdx)("strong",{parentName:"li"},"Add entry action")," or ",(0,o.mdx)("strong",{parentName:"li"},"Add exit action"),"."),(0,o.mdx)("li",{parentName:"ol"},"Write your action\u2019s name in the action\u2019s text input.")),(0,o.mdx)("h2",{id:"delete-an-entry-action-or-exit-action-from-a-state"},"Delete an entry action or exit action from a state"),(0,o.mdx)("p",null,"First, select the action block you want to delete."),(0,o.mdx)("h3",{id:"using-backspace-1"},"Using backspace"),(0,o.mdx)("p",null,"Use the ",(0,o.mdx)("kbd",null,"Backspace")," key to delete the action."),(0,o.mdx)("h3",{id:"using-the-event-details-panel-3"},"Using the event details panel"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Open the event ",(0,o.mdx)(h,{size:18,mdxType:"Info"})," ",(0,o.mdx)("strong",{parentName:"li"},"Details")," panel from the right tool menu."),(0,o.mdx)("li",{parentName:"ol"},"Hover, focus, or select the action block to reveal the ",(0,o.mdx)(u,{size:18,mdxType:"Trash"})," trash icon button."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(u,{size:18,mdxType:"Trash"})," trash icon button to delete the action.")),(0,o.mdx)("h2",{id:"add-a-built-in-action"},"Add a built-in action"),(0,o.mdx)("p",null,"You can add built-in XState actions which will be formatted in your ",(0,o.mdx)("a",{parentName:"p",href:"/docs/xstate-v4/export-as-code"},"exported code"),". The options are:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"/docs/xstate-v4/xstate/actions/context#assign-action"},"assign"),": assigns data to the state context."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"/docs/xstate-v4/xstate/actions/built-in-actions#raise-action"},"raise"),": ",(0,o.mdx)("em",{parentName:"li"},"raises")," an event that is received by the same machine."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"/docs/xstate-v4/xstate/actions/built-in-actions#log-action"},"log"),": an easy way to log messages to the console."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"/docs/xstate-v4/xstate/actions/built-in-actions#sending-events-to-actors"},"sendTo"),": sends an event to a specific actor."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"/docs/xstate-v4/xstate/actors/spawn#stopping-spawned-actors"},"stop"),": stops a child actor.")),(0,o.mdx)("p",null,"To add a built-in action, first add a ",(0,o.mdx)("a",{parentName:"p",href:"#add-a-transition-action"},"transition action"),", ",(0,o.mdx)("a",{parentName:"p",href:"#add-an-entry-action-or-exit-action-to-a-state"},"entry action"),", or ",(0,o.mdx)("a",{parentName:"p",href:"#add-an-entry-action-or-exit-action-to-a-state"},"exit action"),"."),(0,o.mdx)("h3",{id:"on-the-canvas-2"},"On the canvas"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Hover, focus, or select the action block to reveal the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button to open the ",(0,o.mdx)("strong",{parentName:"li"},"Action")," panel."),(0,o.mdx)("li",{parentName:"ol"},"Choose your desired action from the dropdown menu at the top of the ",(0,o.mdx)("strong",{parentName:"li"},"Action")," panel."),(0,o.mdx)("li",{parentName:"ol"},"Fill out the required corresponding action input fields.")),(0,o.mdx)("h3",{id:"using-the-details-panel"},"Using the details panel"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Open the state, or event ",(0,o.mdx)(h,{size:18,mdxType:"Info"})," ",(0,o.mdx)("strong",{parentName:"li"},"Details")," panel from the right tool menu."),(0,o.mdx)("li",{parentName:"ol"},"Hover, focus, or select the action block to reveal the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button to open the ",(0,o.mdx)("strong",{parentName:"li"},"Action")," panel."),(0,o.mdx)("li",{parentName:"ol"},"Choose your desired action from the dropdown menu at the top of the ",(0,o.mdx)("strong",{parentName:"li"},"Action")," panel."),(0,o.mdx)("li",{parentName:"ol"},"Fill out the required corresponding action input fields.")),(0,o.mdx)("h2",{id:"add-a-custom-action"},"Add a custom action"),(0,o.mdx)("p",null,"You can also add custom actions with a custom action type and parameters which will be formatted as ",(0,o.mdx)("a",{parentName:"p",href:"/docs/xstate-v4/xstate/actions/"},"XState action objects")," in your ",(0,o.mdx)("a",{parentName:"p",href:"/docs/xstate-v4/export-as-code"},"exported code"),"."),(0,o.mdx)("p",null,"First, add a ",(0,o.mdx)("a",{parentName:"p",href:"#add-a-transition-action"},"transition action"),", ",(0,o.mdx)("a",{parentName:"p",href:"#add-an-entry-action-or-exit-action-to-a-state"},"entry action"),", or ",(0,o.mdx)("a",{parentName:"p",href:"#add-an-entry-action-or-exit-action-to-a-state"},"exit action"),"."),(0,o.mdx)("h3",{id:"on-the-canvas-3"},"On the canvas"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Hover, focus, or select the action block to reveal the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button to open the ",(0,o.mdx)("strong",{parentName:"li"},"Action")," panel."),(0,o.mdx)("li",{parentName:"ol"},"Custom action is selected by default. Add your custom action type in the ",(0,o.mdx)("strong",{parentName:"li"},"Action type")," text input."),(0,o.mdx)("li",{parentName:"ol"},"Add your custom ",(0,o.mdx)("strong",{parentName:"li"},"Action parameters")," using the ",(0,o.mdx)("strong",{parentName:"li"},"Parameter key")," and ",(0,o.mdx)("strong",{parentName:"li"},"Parameter value")," text input pairs.")),(0,o.mdx)("p",null,(0,o.mdx)("a",{parentName:"p",href:"../xstate/actions"},"Read about action objects below for more on action types and and parameters"),"."),(0,o.mdx)("h3",{id:"using-the-details-panel-1"},"Using the details panel"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Open the state, or event ",(0,o.mdx)(h,{size:18,mdxType:"Info"})," ",(0,o.mdx)("strong",{parentName:"li"},"Details")," panel from the right tool menu."),(0,o.mdx)("li",{parentName:"ol"},"Hover, focus, or select the action block to reveal the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button."),(0,o.mdx)("li",{parentName:"ol"},"Use the ",(0,o.mdx)(f,{size:18,mdxType:"Edit"})," edit icon button to open the ",(0,o.mdx)("strong",{parentName:"li"},"Action")," panel."),(0,o.mdx)("li",{parentName:"ol"},"Custom action is selected by default. Add your custom action type in the ",(0,o.mdx)("strong",{parentName:"li"},"Action type")," text input."),(0,o.mdx)("li",{parentName:"ol"},"Add your custom ",(0,o.mdx)("strong",{parentName:"li"},"Action parameters")," using the ",(0,o.mdx)("strong",{parentName:"li"},"Parameter key")," and ",(0,o.mdx)("strong",{parentName:"li"},"Parameter value")," text input pairs.\n:::xstate")),(0,o.mdx)("h2",{id:"looking-for-how-to-use-entry-and-exit-actions-in-xstate"},"Looking for how to use entry and exit actions in XState?"),(0,o.mdx)("p",null,"Find out ",(0,o.mdx)("a",{parentName:"p",href:"/docs/xstate-v4/xstate/actions/"},"more about actions in XState")," in the XState section of the docs."),(0,o.mdx)("p",null,":::"))}y.isMDXComponent=!0}}]);