"use strict";(self.webpackChunkstately_docs=self.webpackChunkstately_docs||[]).push([[21443],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>d,MDXProvider:()=>u,mdx:()=>h,useMDXComponents:()=>m,withMDXComponents:()=>p});var a=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(this,arguments)}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=a.createContext({}),p=function(e){return function(n){var t=m(n.components);return a.createElement(e,s({},n,{components:t}))}},m=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=m(e.components);return a.createElement(d.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},v=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,s=e.originalType,r=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=m(t),u=i,v=p["".concat(r,".").concat(u)]||p[u]||c[u]||s;return t?a.createElement(v,o(o({ref:n},d),{},{components:t})):a.createElement(v,o({ref:n},d))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var s=t.length,r=new Array(s);r[0]=v;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var d=2;d<s;d++)r[d]=t[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}v.displayName="MDXCreateElement"},56407:(e,n,t)=>{t.d(n,{Z:()=>r});var a=t(67294);const i="skip_WFk4",s="text_YVFA";function r(e){let{link:n,text:t}=e;return a.createElement("p",null,a.createElement("a",{href:n,className:i},a.createElement("span",null,"\u2193"),a.createElement("span",{className:s},t),a.createElement("span",null,"\u2193")))}},83692:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>v,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=t(87462),i=(t(67294),t(3905)),s=t(56407);const r={title:"Eventless (always) transitions"},o=void 0,l={unversionedId:"eventless-transitions",id:"eventless-transitions",title:"Eventless (always) transitions",description:"Eventless transitions\xa0are transitions that happen without an explicit event. These transitions are\xa0always\xa0taken when the transition is enabled.",source:"@site/docs/eventless-transitions.mdx",sourceDirName:".",slug:"/eventless-transitions",permalink:"/docs/eventless-transitions",draft:!1,editUrl:"https://github.com/statelyai/docs/tree/main/docs/eventless-transitions.mdx",tags:[],version:"current",frontMatter:{title:"Eventless (always) transitions"},sidebar:"docs",previous:{title:"Events and transitions",permalink:"/docs/transitions"},next:{title:"Delayed (after) transitions",permalink:"/docs/delayed-transitions"}},d={},p=[{value:"Using eventless transitions in Stately Studio",id:"using-eventless-transitions-in-stately-studio",level:2},{value:"Make an event into an eventless transition",id:"make-an-event-into-an-eventless-transition",level:3},{value:"On the canvas",id:"on-the-canvas",level:4},{value:"Using the transition Details panel",id:"using-the-transition-details-panel",level:4},{value:"Eventless transitions and guards",id:"eventless-transitions-and-guards",level:2},{value:"Avoid infinite loops",id:"avoid-infinite-loops",level:2},{value:"When to use",id:"when-to-use",level:2},{value:"TypeScript",id:"typescript",level:2},{value:"Cheatsheet",id:"cheatsheet",level:2}],m=(u="Info",function(e){return console.warn("Component "+u+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)});var u;const c={toc:p};function v(e){let{components:n,...t}=e;return(0,i.mdx)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Eventless transitions"),"\xa0are transitions that happen without an explicit event. These transitions are\xa0",(0,i.mdx)("em",{parentName:"p"},"always"),"\xa0taken when the transition is enabled."),(0,i.mdx)("p",null,"Eventless transitions are labeled \u201calways\u201d and often referred to as \u201calways\u201d transitions."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-ts"},"{\n  states: {\n    form: {\n      initial: 'valid',\n      states: {\n        valid: {},\n        invalid: {}\n      },\n      always: {\n        guard: 'isValid',\n        target: 'valid',\n      }\n    }\n  }\n}\n")),(0,i.mdx)(s.Z,{text:"Jump to learning more about eventless transitions in XState",link:"#eventless-transitions-and-guards",mdxType:"SkipDownLink"}),(0,i.mdx)("h2",{id:"using-eventless-transitions-in-stately-studio"},"Using eventless transitions in Stately Studio"),(0,i.mdx)("h3",{id:"make-an-event-into-an-eventless-transition"},"Make an event into an eventless transition"),(0,i.mdx)("p",null,"First, select the event you want to replace with an eventless transition. Then\u2026"),(0,i.mdx)("h4",{id:"on-the-canvas"},"On the canvas"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Right-click the state to open the edit menu."),(0,i.mdx)("li",{parentName:"ol"},"From the ",(0,i.mdx)("strong",{parentName:"li"},"Event type")," options, choose ",(0,i.mdx)("strong",{parentName:"li"},"Always")," to turn the event into an eventless transition.")),(0,i.mdx)("h4",{id:"using-the-transition-details-panel"},"Using the transition Details panel"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Open the transition ",(0,i.mdx)(m,{size:18,mdxType:"Info"})," ",(0,i.mdx)("strong",{parentName:"li"},"Details")," panel from the right tool menu."),(0,i.mdx)("li",{parentName:"ol"},"From the ",(0,i.mdx)("strong",{parentName:"li"},"Event type")," dropdown menu, choose ",(0,i.mdx)("strong",{parentName:"li"},"Always")," to turn the event into an eventless transition.")),(0,i.mdx)("h2",{id:"eventless-transitions-and-guards"},"Eventless transitions and guards"),(0,i.mdx)("p",null,"Eventless transitions are taken immediately after normal transitions are taken. They are only taken if enabled, for example, if their ",(0,i.mdx)("a",{parentName:"p",href:"/docs/guards"},"guards")," are true. This makes eventless transitions helpful in doing things when some condition is true."),(0,i.mdx)("h2",{id:"avoid-infinite-loops"},"Avoid infinite loops"),(0,i.mdx)("admonition",{type:"warningxstate"},(0,i.mdx)("p",{parentName:"admonition"},"Since unguarded \u201calways\u201d transitions always run, you should be careful not to create an infinite loop.")),(0,i.mdx)("p",null,"Eventless transitions with no ",(0,i.mdx)("inlineCode",{parentName:"p"},"target")," nor ",(0,i.mdx)("inlineCode",{parentName:"p"},"guard")," will cause an infinite loop. Transitions using ",(0,i.mdx)("inlineCode",{parentName:"p"},"guard")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"actions")," may run into an infinite loop if its ",(0,i.mdx)("inlineCode",{parentName:"p"},"guard")," keeps returning true."),(0,i.mdx)("p",null,"You should define eventless transitions either with:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"target")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"guard")," + ",(0,i.mdx)("inlineCode",{parentName:"li"},"target")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"guard")," + ",(0,i.mdx)("inlineCode",{parentName:"li"},"actions")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"guard")," + ",(0,i.mdx)("inlineCode",{parentName:"li"},"target")," + ",(0,i.mdx)("inlineCode",{parentName:"li"},"actions"))),(0,i.mdx)("p",null,"If ",(0,i.mdx)("inlineCode",{parentName:"p"},"target")," is declared, the value should differ from the current state node."),(0,i.mdx)("p",null,"Coming soon\u2026 example ",(0,i.mdx)("inlineCode",{parentName:"p"},"{ always: { ... } }")),(0,i.mdx)("h2",{id:"when-to-use"},"When to use"),(0,i.mdx)("p",null,"Eventless transitions can be helpful when a state change is necessary, but there is no specific trigger for that change."),(0,i.mdx)("p",null,"Coming soon\u2026 examples"),(0,i.mdx)("h2",{id:"typescript"},"TypeScript"),(0,i.mdx)("p",null,"Eventless transitions can potentially be enabled by any event, so the ",(0,i.mdx)("inlineCode",{parentName:"p"},"event")," type is the union of all possible events."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-ts"},"const machine = createMachine({\n  types: {} as {\n    events: { type: 'greet'; message: string } | { type: 'submit' };\n  },\n  // ...\n  always: {\n    actions: ({ event }) => {\n      event.type; // 'greet' | 'submit'\n    },\n    guard: ({ event }) => {\n      event.type; // 'greet' | 'submit'\n    },\n  },\n});\n")),(0,i.mdx)("h2",{id:"cheatsheet"},"Cheatsheet"),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Coming soon")))}v.isMDXComponent=!0}}]);